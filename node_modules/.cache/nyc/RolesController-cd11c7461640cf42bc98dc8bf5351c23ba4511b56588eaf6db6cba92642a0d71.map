{"version":3,"file":"RolesController.js","sourceRoot":"","sources":["RolesController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Rol from 'App/Models/Rol';\n\nexport default class RolesController {\n  public async createRol({request, response}: HttpContextContract){\n    try{\n      const data_Rol = request.all();\n      const RolObj = new Rol();\n      RolObj.id = data_Rol.id;\n      RolObj.name = data_Rol.name;\n      RolObj.state = data_Rol.state;\n      await RolObj.save();\n      return response.status(200).json({\"state\": true,\"message\": \"Rol creado exitosamente\"})\n    }catch(e){\n      console.log(`e -> ${e}`)\n      return response.status(500).json({\"state\": false, \"message\": \"Error al crear Rol\"})\n    }\n  }\n\n  public async getRol({response}: HttpContextContract){\n    try{\n      const L_Rol = await Rol.query().select('id', 'name').where('state',true);\n      return response.status(200).json({\"state\": true, \"Roles\": L_Rol})\n    }catch(e){\n      return response.status(500).json({\"state\": false, \"message\": \"Error al listar roles\"})\n    }\n  }\n\n  public async deleteRol({request,response}: HttpContextContract){\n    const id = request.param('id_rol')\n    try{\n      await Rol.query().delete().where('id',id)\n      return response.status(200).json({\"state\": true, \"message\": \"Rol eliminado con exito\"})\n    }catch(e){\n      return response.status(500).json({\"state\": false,\"message\": \"Error al eliminar Rol\"})\n    }\n  }\n\n  public async updateRol({request,response}: HttpContextContract){\n    const id_Rol=request.param('id_rol');\n    const {name,state} = request.all();\n    try{\n      await Rol.query().where('id',id_Rol).update({\n        name: name,\n        state: state\n    });\n    return response.status(200).json( {\n      \"state\": true, \"message\": \"Rol editado con exito\"})\n    }catch(e){\n      return response.status(500).json({\"state\": false,\"message\": \"Error al editar Rol\"})\n    }\n  }\n\n\n}\n"]}